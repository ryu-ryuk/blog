pre,
code,
kbd,
samp {
    font-family: var(--font-monospace-code);
}

// inline code blocks
code:not(pre code) {
    box-shadow: var(--edge-highlight);
    border-radius: var(--rounded-corner-small);
    background-color: var(--ctp-surface1);
    padding: 0.125rem 0.375rem;
    color: var(--ctp-pink);
    font-size: var(--font-size-small-em);
    border: 1px solid var(--ctp-surface2);
}

// full code blocks
pre {
    margin: 1rem 0 1rem;
    box-shadow: var(--shadow);
    border-radius: var(--rounded-corner);
    background-color: var(--ctp-base);
    padding: 1rem;
    max-width: 100vw;
    overflow: auto;
    line-height: normal;
    border: 1px solid var(--ctp-surface0);

    // catppuccin syntax highlighting
    .token {
        &.comment,
        &.prolog,
        &.doctype,
        &.cdata {
            color: var(--ctp-overlay2);
            font-style: italic;
        }

        &.punctuation {
            color: var(--ctp-overlay2);
        }

        &.tag {
             color: var(--ctp-red);
        }
        
        &.property,
        &.boolean,
        &.number,
        &.constant,
        &.symbol {
            color: var(--ctp-pink);
        }
        
        &.deleted {
             color: var(--ctp-maroon);
        }

        &.selector {
             color: var(--ctp-mauve);
        }

        &.attr-name {
             color: var(--ctp-pink);
        }

        &.string,
        &.char,
        &.builtin {
            color: var(--ctp-pink);
        }

        &.inserted {
            color: var(--ctp-pink);
        }

        &.operator,
        &.entity,
        &.url {
            color: var(--ctp-sky);
        }

        &.atrule,
        &.keyword {
            color: var(--ctp-mauve);
        }

        &.attr-value {
             color: var(--ctp-pink);
        }

        &.function {
            color: var(--ctp-pink);
        }
        
        &.class-name {
            color: var(--ctp-yellow);
        }

        &.regex,
        &.important,
        &.variable {
            color: var(--ctp-pink);
        }

        &.important,
        &.bold {
            font-weight: bold;
        }

        &.italic {
            font-style: italic;
        }

        &.entity {
            cursor: help;
        }
    }

    // line numbers and highlighting
    table {
        box-shadow: none;
        border-radius: 0;
        background-color: transparent;
        table-layout: auto;
        overflow: hidden;

        tr {
            border-bottom: none;
            &:nth-child(even) {
                background-color: transparent;
            }
        }
    }

    // line number cells
    table td:nth-of-type(1) {
        user-select: none;
        text-align: right;
        color: var(--ctp-overlay1);
        background-color: var(--ctp-mantle);
        border-right: 1px solid var(--ctp-surface0);
        padding-right: 0.75rem;
        padding-left: 0.5rem;
    }

    // code content cells
    table td:nth-of-type(2) {
        padding-left: 1rem;
        width: 100%;
    }

    // highlighted lines
    mark.highlight-line {
        display: block;
        background-color: var(--ctp-surface0);
        border-left: 3px solid var(--ctp-mauve);
        margin: 0 -1rem;
        padding: 0 0.75rem;
    }
    
    &[data-linenos] {
        padding: 0;
    }

    // language-specific overrides
    &[data-lang="json"] {
        .token.property {
            color: var(--ctp-pink);
        }
        .token.string {
            color: var(--ctp-pink);
        }
    }

    &[data-lang*="css"] {
        .token.selector {
            color: var(--ctp-red);
        }
        .token.property {
            color: var(--ctp-pink);
        }
    }
}

// contextual code block styles
article {
    code:not(pre code) {
        background-color: var(--ctp-surface0);
        color: var(--ctp-pink);
    }
}

.alert {
    pre {
        background-color: var(--ctp-mantle);
        border: 1px solid var(--ctp-surface1);
    }
    
    code:not(pre code) {
        background-color: var(--ctp-surface1);
        color: var(--ctp-sky);
    }
}

// copy button style
.copy-button {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background-color: var(--ctp-surface1);
    border: 1px solid var(--ctp-surface2);
    border-radius: var(--rounded-corner-small);
    padding: 0.25rem 0.5rem;
    color: var(--ctp-subtext0);
    font-size: var(--font-size-small);
    cursor: pointer;
    transition: var(--transition);

    &:hover {
        background-color: var(--ctp-surface2);
        color: var(--ctp-text);
    }

    &:active {
        transform: var(--active);
    }
}